{
id: "wildfly-camel-domain",
kind: "Config",
apiVersion: "v1beta1",
name: "wildfly-camel-domain",
description: "Creates a WildFly Camel domain",
items: [
    {
        id: "admin-service",
        kind: "Service",
        apiVersion: "v1beta1",
        containerPort: 9990,
        port: 9990,
        selector: { name: "ctrl-pod" },
        labels: { name: "ctrl-srv" }
    },
    {
      id: "admin-controller",
      kind: "ReplicationController",
      apiVersion: "v1beta1",
      desiredState: {
        replicas: 1,
        replicaSelector: { name: ctrl-pod},
        podTemplate: {
          desiredState: {
             manifest: {
               id: "rest-pod",
               version: "v1beta1",
               containers: [{
                 name: "domain-controller",
                 image: "wildflyext/wildfly-camel",
                 env: [{ name: "WILDFLY_MANAGEMENT_USER", value: "admin"}, { name: "WILDFLY_MANAGEMENT_PASSWORD", value: "admin"}],
                 command: [ "--domain-config", "domain-camel.xml", "--host-config", "host-camel.xml", "-b", "0.0.0.0", "-bmanagement", "0.0.0.0" ],
                 ports: [{ name: "http", containerPort: 9990 }]
               }]
             }
           },
           labels: {name: "ctrl-pod"}
          }}
    }
    ]
}